<!DOCTYPE html>
<html lang="ar" dir="rtl" id="main-html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÿÆŸàÿØ Ÿàÿßÿ≠ÿØ ÿßŸÑÿ±Ÿäÿßÿ∂Ÿä | Take One SC</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        html { scroll-behavior: smooth; }
        :root { --main-font: 'Cairo', sans-serif; --fifa-yellow: #fbbf24; }
        .en-text { display: none; } .ar-text { display: inline; } .lang-en .en-text { display: inline; } .lang-en .ar-text { display: none; } .lang-en { direction: ltr; }

        /* --- TERMINAL STYLES --- */
        .terminal-window { background: #020617; border: 2px solid #334155; border-radius: 1rem; padding: 20px; font-family: 'Courier New', monospace; height: 300px; overflow-y: auto; box-shadow: inset 0 0 20px black; }
        .log-entry { margin-bottom: 8px; border-left: 3px solid #334155; padding-left: 10px; opacity: 0; animation: fadeIn 0.3s forwards; }
        .log-time { color: #fbbf24; font-weight: bold; margin-right: 10px; }
        .log-text { color: #e2e8f0; }
        .log-goal { border-left-color: #22c55e; color: #22c55e; font-weight: 900; font-size: 1.1rem; }
        .log-fail { border-left-color: #ef4444; color: #ef4444; }
        @keyframes fadeIn { to { opacity: 1; } }

        /* --- SPLASH & OTHER STYLES (Minified) --- */
        #splash-screen { position: fixed; inset: 0; background: #020617; z-index: 9999; display: flex; align-items: center; justify-content: center; flex-direction: column; transition: opacity 1s ease; }
        .splash-text { font-size: 2.5rem; font-weight: 900; color: #fbbf24; text-transform: uppercase; letter-spacing: 0.1em; opacity: 0; transform: scale(0.9); transition: all 0.5s; text-align: center; }
        .splash-visible { opacity: 1; transform: scale(1); }
        
        .trophy-grid { display: grid; grid-template-cols: repeat(auto-fill, minmax(100px, 1fr)); gap: 10px; max-width: 1000px; margin: 0 auto; }
        .trophy-square { aspect-ratio: 1/1; background: #1e293b; border: 1px solid #334155; border-radius: 1rem; position: relative; cursor: pointer; overflow: hidden; transition: all 0.3s; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 5px; text-align: center; }
        .trophy-square:hover { transform: translateY(-3px); border-color: #fbbf24; }
        .trophy-front { transition: 0.4s; opacity: 1; transform: scale(1); width: 100%; }
        .trophy-back { position: absolute; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; opacity: 0; transform: scale(0.5) translateY(10px); transition: 0.4s; background: #0f172a; z-index: 10; }
        .trophy-square.revealed .trophy-front { opacity: 0; transform: scale(1.5); filter: blur(5px); }
        .trophy-square.revealed .trophy-back { opacity: 1; transform: scale(1); }
        .trophy-emoji { font-size: 2rem; display: block; } .winner-text { font-size: 0.9rem; font-weight: 900; color: #fbbf24; } .winner-sub { font-size: 0.45rem; color: #94a3b8; font-weight: 700; }
        
        .market-grid { display: grid; grid-template-cols: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; }
        .market-card { background: #0f172a; border: 1px solid #334155; border-radius: 1rem; padding: 15px; display: flex; align-items: center; gap: 15px; transition: 0.3s; }
        .market-val { font-weight: 900; font-size: 1.2rem; color: #22c55e; } .market-val.priceless { color: #fbbf24; } .market-val.cheap { color: #ef4444; font-size: 0.9rem; }
        
        .chem-circle { width: 150px; height: 150px; border-radius: 50%; border: 8px solid #334155; display: flex; align-items: center; justify-content: center; margin: 20px auto; font-size: 2.5rem; font-weight: 900; color: white; background: #0f172a; }
        .chem-circle.high { border-color: #fbbf24; color: #fbbf24; } .chem-circle.low { border-color: #ef4444; color: #ef4444; }
        
        .faceoff-card { background: #1e293b; border: 2px solid #334155; border-radius: 1.5rem; padding: 20px; text-align: center; height: 100%; }
        .faceoff-card.winner { border-color: #fbbf24; background: #0f172a; }
        .stat-bar-bg { background: #334155; height: 8px; border-radius: 4px; overflow: hidden; margin-top: 5px; } .stat-bar-fill { height: 100%; background: #fbbf24; width: 0%; transition: width 1s ease; }
        .winner-badge { background: #fbbf24; color: #0f172a; font-weight: 900; padding: 5px 15px; border-radius: 20px; display: inline-block; margin-bottom: 10px; animation: popIn 0.5s; } @keyframes popIn { from { transform: scale(0); } to { transform: scale(1); } }
        
        .pitch-container { width: 100%; height: 600px; background: radial-gradient(circle at 50% 50%, #064e3b 0%, #022c22 40%, #020617 100%); border: 4px solid #34d399; border-radius: 2rem; position: relative; overflow: hidden; box-shadow: inset 0 0 50px rgba(0,0,0,0.8); }
        .pos-slot { width: 90px; height: 90px; position: absolute; transform: translate(-50%, -50%); border: 2px dashed #fbbf24; border-radius: 50%; display: flex; flex-direction: column; align-items: center; justify-content: center; background: rgba(0,0,0,0.6); cursor: pointer; transition: 0.3s; }
        .pos-slot:hover { background: rgba(251, 191, 36, 0.2); scale: 1.1; } .pos-slot.filled { border: 2px solid #fbbf24; background: #0f172a; overflow: hidden; } .pos-slot img { width: 100%; height: 100%; object-fit: cover; }
        #slot-gk { bottom: 5%; left: 50%; } #slot-def { bottom: 30%; left: 50%; } #slot-lm { top: 45%; left: 20%; } #slot-rm { top: 45%; right: 20%; } #slot-st { top: 15%; left: 50%; }
        
        .player-card { transition: all 0.4s ease; background: #0f172a; border-radius: 1.5rem; overflow: hidden; border: 1px solid rgba(251, 191, 36, 0.2); cursor: pointer; position: relative; }
        .player-card:hover { transform: translateY(-8px); border-color: var(--fifa-yellow); box-shadow: 0 10px 40px -10px rgba(251, 191, 36, 0.3); }
        .img-frame { width: 100%; aspect-ratio: 3 / 4; background: linear-gradient(to bottom, #1e293b, #0f172a); display: flex; align-items: flex-end; justify-content: center; } .player-img { width: 100%; height: 100%; object-fit: contain; object-position: bottom; }
        .card-rating { position: absolute; top: 10px; left: 10px; background: rgba(0,0,0,0.8); color: #fbbf24; padding: 5px 10px; border-radius: 10px; font-weight: 900; font-size: 1.2rem; border: 1px solid #fbbf24; z-index: 10; }
        
        #gasser-error, #gasser-warning { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #7f1d1d; border: 4px solid #ef4444; color: white; padding: 40px; border-radius: 2rem; z-index: 500; text-align: center; box-shadow: 0 0 100px rgba(239, 68, 68, 0.5); animation: shake 0.5s; }
        @keyframes shake { 10%, 90% { transform: translate(-51%, -50%); } 20%, 80% { transform: translate(-49%, -50%); } 30%, 50%, 70% { transform: translate(-52%, -50%); } 40%, 60% { transform: translate(-48%, -50%); } }
        
        #squad-picker, #profile-modal { display: none; position: fixed; inset: 0; z-index: 300; background: rgba(0,0,0,0.95); backdrop-filter: blur(10px); }
        .modal-content { max-width: 450px; width: 90%; margin: 30px auto; background: #0f172a; border: 3px solid var(--fifa-yellow); border-radius: 3rem; overflow: hidden; position: relative; }
        .picker-grid { display: grid; grid-template-cols: repeat(2, 1fr); gap: 10px; max-height: 60vh; overflow-y: auto; padding: 20px; }
        .pick-card { background: #1e293b; padding: 10px; border-radius: 10px; text-align: center; border: 1px solid #334155; cursor: pointer; } .pick-card:hover { border-color: #fbbf24; background: #0f172a; }
        .stat-box { background: rgba(15, 23, 42, 0.8); border: 1px solid rgba(251, 191, 36, 0.2); padding: 10px; border-radius: 1rem; text-align: center; }
        .stat-val { color: var(--fifa-yellow); font-size: 1.5rem; font-weight: 900; line-height: 1; } .stat-lbl { color: #64748b; font-size: 0.6rem; font-weight: 900; text-transform: uppercase; }
        .goat-container { display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 5px; }
        .goat-crown { font-size: 3rem; animation: goatPop 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        .goat-text { opacity: 0; animation: goatPop 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.2s forwards; }
        @keyframes goatPop { 0% { transform: scale(0) rotate(-30deg) translateY(50px); opacity: 0; filter: blur(10px); } 100% { transform: scale(1) rotate(0deg) translateY(0); opacity: 1; filter: blur(0); } }
        
        #game-zone { height: 400px; position: relative; overflow: hidden; cursor: crosshair; background: #020617; }
        .target-circle { width: 115px; height: 115px; position: absolute; border-radius: 50%; border: 4px solid var(--fifa-yellow); overflow: hidden; }
        .music-pulse { animation: pulse 2s infinite; } @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(251, 191, 36, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(251, 191, 36, 0); } 100% { box-shadow: 0 0 0 0 rgba(251, 191, 36, 0); } }
    </style>
</head>
<body class="bg-slate-950 text-white font-[Cairo]">

    <div id="splash-screen"><div id="splash-text" class="splash-text"></div></div>
    <audio id="bg-anthem" loop><source src="anthem.mp3" type="audio/mpeg"></audio>
    <div class="fixed bottom-6 right-6 z-[100]"><button onclick="toggleAnthem()" id="music-btn" class="bg-yellow-500 text-slate-950 w-14 h-14 rounded-full shadow-2xl flex items-center justify-center music-pulse"><span id="music-icon" class="text-xl font-black">‚ñ∂</span></button></div>

    <div id="gasser-error"><h2 class="text-4xl font-black mb-4">‚ö†Ô∏è ERROR 404</h2><p class="text-xl font-bold">(mayenfa3sh ya sa7by men8eer Eng.Gasser)</p><button onclick="document.getElementById('gasser-error').style.display='none'" class="mt-6 bg-white text-red-900 px-6 py-2 rounded-full font-black">TRY AGAIN</button></div>
    <div id="squad-picker" onclick="closePicker()"><div class="modal-content" onclick="event.stopPropagation()"><div class="p-6"><h3 class="text-2xl font-black text-yellow-500 mb-4 uppercase">Select Player</h3><div id="picker-list" class="picker-grid"></div><button onclick="closePicker()" class="mt-4 w-full bg-slate-800 py-3 rounded-xl font-bold">Cancel</button></div></div></div>
    <div id="profile-modal" onclick="this.style.display='none'"><div class="modal-content" onclick="event.stopPropagation()"><div id="modal-body"></div><button onclick="document.getElementById('profile-modal').style.display='none'" class="absolute top-5 right-5 bg-yellow-500 text-slate-950 w-9 h-9 rounded-full font-black">√ó</button></div></div>

    <nav class="p-5 flex justify-between items-center bg-slate-900 sticky top-0 z-50 border-b border-yellow-500/20">
        <div class="text-2xl font-black italic text-yellow-500"><span class="ar-text">ÿÆŸàÿØ Ÿàÿßÿ≠ÿØ</span><span class="en-text">TAKE ONE SC</span></div>
        <div class="flex gap-3"><button onclick="toggleLanguage()" class="bg-slate-800 px-4 py-2 rounded-full text-xs font-bold border border-slate-700">LANG</button><a href="#apply-section" class="bg-yellow-500 px-5 py-2 rounded-full text-slate-950 font-black text-xs uppercase">JOIN</a></div>
    </nav>

    <section class="container mx-auto py-10 px-6 border-b border-slate-800">
        <h2 class="text-4xl font-black italic mb-8 border-l-8 border-yellow-500 pl-6 uppercase text-yellow-500">Match Simulator</h2>
        <div class="bg-slate-900 p-6 rounded-[2rem]">
            <div class="grid grid-cols-3 items-center mb-6 text-center">
                <span class="text-yellow-500 font-black text-xl">TAKE ONE SC</span>
                <span class="text-slate-600 font-bold text-sm">VS</span>
                <select id="opponent-select" class="bg-slate-800 text-red-500 font-black text-xl p-2 rounded-lg text-center outline-none border border-slate-700">
                    <option value="a7a">A7A FC</option>
                    <option value="tartor">KAFR ABO TARTOR</option>
                    <option value="sa3aleek">EL SA3ALEEK FC</option>
                    <option value="neswan">NESWAN FC</option>
                </select>
            </div>
            <div id="terminal" class="terminal-window mb-4">
                <div class="text-slate-500 italic">> Select opponent and start match...</div>
            </div>
            <button onclick="simulateMatch()" class="w-full bg-green-600 text-white font-black py-4 rounded-xl shadow-lg hover:bg-green-500 transition-all">START SIMULATION ‚öΩ</button>
        </div>
    </section>

    <section class="container mx-auto py-10 px-6">
        <h2 class="text-4xl font-black italic mb-8 border-l-8 border-yellow-500 pl-6 uppercase text-yellow-500">Transfer Market</h2>
        <div id="transfer-grid" class="market-grid"></div>
    </section>

    <section class="container mx-auto py-10 px-6">
        <h2 class="text-4xl font-black italic mb-8 border-l-8 border-yellow-500 pl-6 uppercase text-yellow-500">Trophy Cabinet</h2>
        <div class="trophy-grid">
            <div class="trophy-square" onclick="this.classList.toggle('revealed')"><div class="trophy-front"><span class="trophy-emoji animate-bounce">üíà</span><h3 class="trophy-title">Best Haircut</h3><p class="reveal-hint">Reveal</p></div><div class="trophy-back"><span class="winner-emoji">üíà</span><h3 class="winner-text">GASSER</h3><p class="winner-sub">DRIP KING</p></div></div>
            <div class="trophy-square" onclick="this.classList.toggle('revealed')"><div class="trophy-front"><span class="trophy-emoji animate-bounce">üéß</span><h3 class="trophy-title">Best Music</h3><p class="reveal-hint">Reveal</p></div><div class="trophy-back"><span class="winner-emoji">üéπ</span><h3 class="winner-text">GASSER</h3><p class="winner-sub">PRODUCER</p></div></div>
            <div class="trophy-square" onclick="this.classList.toggle('revealed')"><div class="trophy-front"><span class="trophy-emoji animate-bounce">üï¥Ô∏è</span><h3 class="trophy-title">Best Style</h3><p class="reveal-hint">Reveal</p></div><div class="trophy-back"><span class="winner-emoji">üëî</span><h3 class="winner-text">GASSER</h3><p class="winner-sub">ICON</p></div></div>
            <div class="trophy-square" onclick="this.classList.toggle('revealed')"><div class="trophy-front"><span class="trophy-emoji animate-bounce">üéæ</span><h3 class="trophy-title">Padel King</h3><p class="reveal-hint">Reveal</p></div><div class="trophy-back"><span class="winner-emoji">üèÜ</span><h3 class="winner-text">GASSER</h3><p class="winner-sub">SMASH MASTER</p></div></div>
            <div class="trophy-square" onclick="this.classList.toggle('revealed')"><div class="trophy-front"><span class="trophy-emoji animate-bounce">üï≥Ô∏è</span><h3 class="trophy-title">The 5orm</h3><p class="reveal-hint">Reveal</p></div><div class="trophy-back"><span class="winner-emoji">ü•Ö</span><h3 class="winner-text text-red-500">AHMED</h3><p class="winner-sub">CLEAN SHEET: 0%</p></div></div>
            <div class="trophy-square" onclick="this.classList.toggle('revealed')"><div class="trophy-front"><span class="trophy-emoji animate-bounce">üïäÔ∏è</span><h3 class="trophy-title">Kanas</h3><p class="reveal-hint">Reveal</p></div><div class="trophy-back"><span class="winner-emoji">ü¶Ö</span><h3 class="winner-text text-red-500">KITKIT</h3><p class="winner-sub">& FALOO7Y</p></div></div>
            <div class="trophy-square" onclick="this.classList.toggle('revealed')"><div class="trophy-front"><span class="trophy-emoji animate-bounce">üöá</span><h3 class="trophy-title">Kobry King</h3><p class="reveal-hint">Reveal</p></div><div class="trophy-back"><span class="winner-emoji">üé±</span><h3 class="winner-text">ASSER</h3><p class="winner-sub">NUTMEG</p></div></div>
            <div class="trophy-square" onclick="this.classList.toggle('revealed')"><div class="trophy-front"><span class="trophy-emoji animate-bounce">ü´Å</span><h3 class="trophy-title">Iron Lung</h3><p class="reveal-hint">Reveal</p></div><div class="trophy-back"><span class="winner-emoji">‚ö°</span><h3 class="winner-text">SHERIF</h3><p class="winner-sub">ENGINE</p></div></div>
        </div>
    </section>

    <section class="container mx-auto py-10 px-6"><h2 class="text-4xl font-black italic mb-8 border-l-8 border-yellow-500 pl-6 uppercase text-yellow-500">Duo Chemistry</h2><div class="bg-slate-900 p-8 rounded-[2rem] border border-slate-800"><div class="grid grid-cols-2 gap-4 mb-6"><select id="chem-p1" class="bg-slate-800 p-3 rounded-xl text-white font-bold outline-none border border-slate-600 focus:border-yellow-500"><option value="">Player 1</option></select><select id="chem-p2" class="bg-slate-800 p-3 rounded-xl text-white font-bold outline-none border border-slate-600 focus:border-yellow-500"><option value="">Player 2</option></select></div><button onclick="calculateChemistry()" class="w-full bg-blue-600 text-white font-black py-3 rounded-xl hover:bg-blue-500 transition-all">CALCULATE VIBES üß™</button><div id="chem-result" class="hidden text-center mt-8 animate-fade-in"><div id="chem-score" class="chem-circle">0%</div><h3 id="chem-title" class="text-2xl font-black text-white mt-4"></h3><p id="chem-desc" class="text-slate-400 font-bold italic"></p></div></div></section>
    <section class="container mx-auto py-10 px-6 border-b border-slate-800"><h2 class="text-4xl font-black italic mb-8 border-l-8 border-yellow-500 pl-6 uppercase text-yellow-500">1v1 Face-Off</h2><div class="grid grid-cols-2 gap-4 mb-8"><select id="p1-select" class="bg-slate-800 p-3 rounded-xl text-white font-bold outline-none border border-slate-600"><option value="">Select Player A</option></select><select id="p2-select" class="bg-slate-800 p-3 rounded-xl text-white font-bold outline-none border border-slate-600"><option value="">Select Player B</option></select></div><button onclick="comparePlayers()" class="w-full bg-yellow-500 text-slate-950 font-black py-4 rounded-xl text-xl mb-8 shadow-lg hover:bg-yellow-400">COMPARE STATS ‚öîÔ∏è</button><div id="gasser-warning" class="hidden"><h3 class="text-2xl font-black mb-2">‚õî ACTION DENIED</h3><p class="text-xl font-bold">(‚úãüèªbalash la nefsak tetkser, gasser t2eel alek ya sahby ü•∑üèøüó°Ô∏è)</p></div><div id="comparison-result" class="hidden grid grid-cols-1 md:grid-cols-2 gap-8"><div id="p1-card" class="faceoff-card"></div><div id="p2-card" class="faceoff-card"></div></div></section>

    <section class="container mx-auto py-10 px-6"><div class="flex justify-between items-end mb-8 border-l-8 border-yellow-500 pl-6"><h2 class="text-4xl font-black italic uppercase text-yellow-500">Fantasy 5</h2><div class="bg-slate-900 px-6 py-3 rounded-xl border border-yellow-500/30"><span class="text-xs font-bold text-slate-400 block">TEAM RATING</span><span id="team-rating" class="text-4xl font-black text-white">0</span></div></div><div class="pitch-container"><div class="pitch-line center-circle"></div><div class="pitch-line half-line"></div><div class="pitch-line penalty-box"></div><div id="slot-gk" class="pos-slot" onclick="openPicker('gk')"><span class="text-3xl font-black text-yellow-500">+</span></div><div id="slot-def" class="pos-slot" onclick="openPicker('def')"><span class="text-3xl font-black text-yellow-500">+</span></div><div id="slot-lm" class="pos-slot" onclick="openPicker('lm')"><span class="text-3xl font-black text-yellow-500">+</span></div><div id="slot-rm" class="pos-slot" onclick="openPicker('rm')"><span class="text-3xl font-black text-yellow-500">+</span></div><div id="slot-st" class="pos-slot" onclick="openPicker('st')"><span class="text-3xl font-black text-yellow-500">+</span></div></div><button onclick="resetSquad()" class="mt-6 bg-red-900/50 text-red-400 px-6 py-3 rounded-xl font-bold w-full border border-red-900 hover:bg-red-900 transition-all">RESET SQUAD</button></section>

    <section class="container mx-auto py-10 px-6"><div class="bg-slate-900 rounded-[3rem] p-1 border-4 border-yellow-500/20 relative overflow-hidden"><div id="start-screen" class="absolute inset-0 z-20 bg-slate-900/95 flex flex-col items-center justify-center rounded-[3rem]"><h2 class="text-3xl font-black italic text-yellow-500 mb-8 uppercase">Tahzee2 Room</h2><div class="flex flex-wrap justify-center gap-4"><button onclick="startGame('Ahmed Sherif')" class="bg-slate-800 hover:bg-yellow-500 p-4 rounded-2xl font-black transition-all">AHMED SHERIF</button><button onclick="startGame('Mahmoud Gamal')" class="bg-slate-800 hover:bg-yellow-500 p-4 rounded-2xl font-black transition-all">MAHMOUD GAMAL</button></div></div><div class="flex justify-between p-5 bg-slate-950 font-black text-xs text-yellow-500"><div>TIME: <span id="timer" class="text-white">30</span>S</div><div>KICKS: <span id="score" class="text-white">0</span></div></div><div id="game-zone"></div></div></section>
    <section class="container mx-auto py-20 px-6"><h2 class="text-5xl font-black italic mb-16 border-r-8 border-yellow-500 pr-6 uppercase"><span class="ar-text">ŸÜÿ¨ŸàŸÖ ÿßŸÑŸÅÿ±ŸäŸÇ</span><span class="en-text">The Roster</span></h2><div id="player-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8"></div></section>
    <section id="apply-section" class="py-24 bg-slate-900 border-t border-slate-800"><div class="max-w-4xl mx-auto px-6 text-center"><h2 class="text-5xl font-black mb-10 italic text-yellow-500">TRIALS</h2><div class="bg-white rounded-[3rem] overflow-hidden border-4 border-yellow-500 h-[700px]"><iframe src="https://docs.google.com/forms/d/e/1FAIpQLSekg3NLHGxfcBV8x4ieeyOjqPAVY5MD1zDdSsSHxBLqR8i9lg/viewform?embedded=true" width="100%" height="700" frameborder="0">Loading...</iframe></div></div></section>
    <footer class="py-16 text-center text-slate-700 font-black text-[10px] uppercase"><p>¬© 2026 TAKE ONE SC | NASR CITY</p></footer>

    <script>
        // --- INTRO ---
        window.onload = function() {
            const splash = document.getElementById('splash-screen'); const txt = document.getElementById('splash-text');
            setTimeout(() => { txt.innerHTML = "CREATED BY<br>ENG. GASSER"; txt.classList.add('splash-visible'); }, 500);
            setTimeout(() => { txt.classList.remove('splash-visible'); }, 2500);
            setTimeout(() => { txt.innerHTML = "CREDITS TO<br>ENG. OMAR KOTB"; txt.classList.add('splash-visible'); }, 3000);
            setTimeout(() => { splash.style.opacity = '0'; splash.style.pointerEvents = 'none'; }, 5500);
            renderMarket();
        }

        const teamData = [
            { id: 1, nameAr: "ŸäŸàÿ≥ŸÅ (C)", nameEn: "Youssef (C)", pos: "LW / ST", rating: 91, photo: "https://i.ibb.co/mMfKQwc/IMG-2879.jpg", pac: 91, sho: 90, pas: 88, dri: 90, def: 45, phy: 82, desc: "Nasr City Captain." },
            { id: 2, nameAr: "ÿ¢ÿ≥ÿ±", nameEn: "Asser", pos: "CM", rating: 88, photo: "https://i.ibb.co/YFkyLg4R/IMG-2876.jpg", pac: 85, sho: 79, pas: 90, dri: 88, def: 72, phy: 78, desc: "De Bruyne el 8alaba." },
            { id: 3, nameAr: "ÿ¨ÿßÿ≥ÿ±", nameEn: "Gasser", pos: "RW", rating: 99, photo: "https://i.ibb.co/GfY9YV65/IMG-2861.png", pac: 99, sho: 98, pas: 95, dri: 99, def: 60, phy: 85, desc: "The GOAT." },
            { id: 4, nameAr: "ŸÉŸäÿ™ŸÉŸäÿ™", nameEn: "Kitkit", pos: "ST", rating: 84, photo: "https://i.ibb.co/bMsbQQvg/IMG-2885.jpg", pac: 85, sho: 86, pas: 72, dri: 80, def: 30, phy: 75, desc: "Kanas 3asafeer." },
            { id: 5, nameAr: "ŸÅŸÑŸàÿ≠Ÿä", nameEn: "Faloo7y", pos: "ST", rating: 80, photo: "https://i.ibb.co/pv63qtTf/77528798-5ece-4e9b-baec-2d977168da1b.jpg", pac: 78, sho: 82, pas: 68, dri: 75, def: 40, phy: 85, desc: "The Finisher." },
            { id: 6, nameAr: "ÿ£ÿ≠ŸÖÿØ ÿ¥ÿ±ŸäŸÅ", nameEn: "Ahmed Sherif", pos: "GK", rating: 73, photo: "https://i.ibb.co/6jgPWNb/IMG-2882.jpg", pac: 65, sho: 40, pas: 70, dri: 55, def: 75, phy: 70, desc: "The Guardian." },
            { id: 7, nameAr: "ÿ¥ÿ±ŸäŸÅ", nameEn: "Sherif", pos: "CM", rating: 87, photo: "https://i.ibb.co/V0CSSFzx/1056213a-9460-4acb-aafe-de71a9c3d7c3.jpg", pac: 86, sho: 80, pas: 88, dri: 84, def: 78, phy: 84, desc: "Midfield Engine." }
        ];

        // --- NEW: MATCH SIMULATOR LOGIC ---
        function simulateMatch() {
            const term = document.getElementById('terminal');
            const opponent = document.getElementById('opponent-select').value;
            let oppName = "OPPONENT";
            let events = [];

            // MATCH SCENARIOS
            if (opponent === 'a7a') {
                oppName = "A7A FC";
                events = [
                    { time: 5, text: "Kickoff in the Derby! Atmosphere is electric.", type: 'normal' },
                    { time: 12, text: "Asser performs a Kobry. The crowd goes wild.", type: 'normal' },
                    { time: 23, text: "A7A FC shoots... Ahmed Sherif is sleeping! GOAL for A7A FC.", type: 'fail' },
                    { time: 44, text: "Kitkit aims for the goal... and hits a pigeon.", type: 'fail' },
                    { time: 55, text: "Youssef dribbles 5 players but forgets to shoot.", type: 'normal' },
                    { time: 90, text: "GASSER SHOOTS FROM MIDFIELD! GOAAAAL! 5OD WA7ED WINS!", type: 'goal' },
                    { time: 'FT', text: "Final Score: Take One 2 - 1 A7A FC", type: 'goal' }
                ];
            } else if (opponent === 'tartor') {
                oppName = "KAFR ABO TARTOR";
                events = [
                    { time: 10, text: "Match delayed because a tractor is on the pitch.", type: 'normal' },
                    { time: 30, text: "Ahmed Sherif slips on mud. GOAL for Kafr Abo Tartor.", type: 'fail' },
                    { time: 45, text: "Sherif runs a marathon around the field.", type: 'normal' },
                    { time: 70, text: "Gasser decides to end the game. Hattrick in 5 mins.", type: 'goal' },
                    { time: 'FT', text: "Final Score: Take One 3 - 1 Kafr Abo Tartor", type: 'goal' }
                ];
            } else if (opponent === 'sa3aleek') {
                oppName = "EL SA3ALEEK FC";
                events = [
                    { time: 5, text: "They are playing barefoot. Scary.", type: 'normal' },
                    { time: 20, text: "Faloo7y misses an open goal. Classic.", type: 'fail' },
                    { time: 40, text: "Opponent steals the ball and scores. Ahmed Sherif was eating koshary.", type: 'fail' },
                    { time: 88, text: "Gasser steps up. Free kick... TOP CORNER!", type: 'goal' },
                    { time: 'FT', text: "Final Score: Take One 2 - 1 El Sa3aleek", type: 'goal' }
                ];
            } else if (opponent === 'neswan') {
                oppName = "NESWAN FC";
                events = [
                    { time: 10, text: "Kitkit is distracted by the opponent. He forgets to run.", type: 'fail' },
                    { time: 30, text: "Sherif is fixing his hair for the cameras.", type: 'fail' },
                    { time: 60, text: "Gasser yells at everyone to focus.", type: 'normal' },
                    { time: 90, text: "Gasser dribbles everyone and scores. Focus pays off.", type: 'goal' },
                    { time: 'FT', text: "Final Score: Take One 1 - 0 Neswan FC", type: 'goal' }
                ];
            }

            term.innerHTML = `<div class="text-slate-500 italic mb-2">> Simulating vs ${oppName}...</div>`;
            
            let i = 0;
            function printLog() {
                if (i >= events.length) return;
                const e = events[i];
                const cssClass = e.type === 'goal' ? 'log-goal' : (e.type === 'fail' ? 'log-fail' : 'log-text');
                const html = `<div class="log-entry ${cssClass}"><span class="log-time">${e.time}'</span> ${e.text}</div>`;
                term.innerHTML += html;
                term.scrollTop = term.scrollHeight;
                i++;
                setTimeout(printLog, 1500);
            }
            printLog();
        }

        // --- TRANSFER MARKET LOGIC ---
        function renderMarket() {
            const grid = document.getElementById('transfer-grid');
            grid.innerHTML = teamData.map(p => {
                let price = ''; let priceClass = 'market-val';
                if (p.id === 3) { price = "PRICELESS (Not for Sale) üíé"; priceClass += " priceless"; } 
                else if (p.id === 6) { price = "2 Koshary & Pepsi ü•°"; priceClass += " cheap"; } 
                else { const val = (p.rating * 1.5).toFixed(1); price = `‚Ç¨${val}M`; }
                return `<div class="market-card"><img src="${p.photo}" class="w-12 h-12 rounded-full object-cover border border-slate-600"><div><div class="font-bold text-sm text-slate-300">${p.nameEn}</div><div class="${priceClass}">${price}</div></div></div>`;
            }).join('');
        }

        // --- CHEMISTRY LOGIC ---
        function initChem() { const p1 = document.getElementById('chem-p1'); const p2 = document.getElementById('chem-p2'); teamData.forEach(p => { const opt = `<option value="${p.id}">${p.nameEn}</option>`; p1.innerHTML += opt; p2.innerHTML += opt; }); }
        function calculateChemistry() {
            const id1 = parseInt(document.getElementById('chem-p1').value); const id2 = parseInt(document.getElementById('chem-p2').value);
            const res = document.getElementById('chem-result'); const circle = document.getElementById('chem-score'); const title = document.getElementById('chem-title'); const desc = document.getElementById('chem-desc');
            if(!id1 || !id2 || id1 === id2) return;
            res.classList.remove('hidden'); circle.className = 'chem-circle';
            // LOGIC
            if (id1 === 3 || id2 === 3) { circle.innerText = "1000%"; circle.classList.add('high'); title.innerText = "PERFECT LINK"; desc.innerText = "He carries the team. You don't need chemistry, you just need Gasser."; } 
            else if (id1 === 6 || id2 === 6) { circle.innerText = "0%"; circle.classList.add('low'); title.innerText = "404 NOT FOUND"; desc.innerText = "Ahmed and Clean Sheet = 0%. El 5orm alert!"; }
            else if ((id1 === 4 && id2 === 5) || (id1 === 5 && id2 === 4)) { circle.innerText = "0%"; circle.classList.add('low'); title.innerText = "GOALLESS DRAUGHT"; desc.innerText = "Scoring goals probability: 0%. The ball is in the Nile."; }
            else { const rand = Math.floor(Math.random() * 40) + 50; circle.innerText = rand + "%"; title.innerText = "DECENT VIBES"; desc.innerText = "They can pass the ball, sometimes."; }
        }
        initChem();

        // --- 1V1 COMPARISON ---
        function initComparison() { const p1 = document.getElementById('p1-select'); const p2 = document.getElementById('p2-select'); teamData.forEach(p => { const opt = `<option value="${p.id}">${p.nameEn}</option>`; p1.innerHTML += opt; p2.innerHTML += opt; }); }
        function comparePlayers() {
            const id1 = parseInt(document.getElementById('p1-select').value); const id2 = parseInt(document.getElementById('p2-select').value);
            const warning = document.getElementById('gasser-warning'); const result = document.getElementById('comparison-result');
            warning.style.display = 'none'; result.classList.add('hidden'); document.getElementById('p1-card').classList.remove('winner'); document.getElementById('p2-card').classList.remove('winner');
            if (id1 === 3 || id2 === 3) { warning.style.display = 'block'; return; }
            if (!id1 || !id2 || id1 === id2) return;
            const p1 = teamData.find(p => p.id === id1); const p2 = teamData.find(p => p.id === id2);
            result.classList.remove('hidden');
            let p1Badge = '', p2Badge = '';
            if (p1.rating > p2.rating) { document.getElementById('p1-card').classList.add('winner'); p1Badge = `<div class="winner-badge">üèÜ WINNER</div>`; } 
            else if (p2.rating > p1.rating) { document.getElementById('p2-card').classList.add('winner'); p2Badge = `<div class="winner-badge">üèÜ WINNER</div>`; } 
            else { p1Badge = `<div class="winner-badge bg-slate-500">ü§ù DRAW</div>`; p2Badge = `<div class="winner-badge bg-slate-500">ü§ù DRAW</div>`; }
            renderFaceoffCard('p1-card', p1, p1Badge); renderFaceoffCard('p2-card', p2, p2Badge);
        }
        function renderFaceoffCard(divId, p, badge) { document.getElementById(divId).innerHTML = `${badge}<img src="${p.photo}" class="w-20 h-20 rounded-full mx-auto object-cover mb-4 border-2 border-yellow-500"><h3 class="font-black text-xl mb-4 text-yellow-500">${p.nameEn}</h3><div class="space-y-3 text-left text-xs font-bold"><div><div class="flex justify-between"><span>RATING</span><span>${p.rating}</span></div><div class="stat-bar-bg"><div class="stat-bar-fill" style="width:${p.rating}%"></div></div></div><div><div class="flex justify-between"><span>PAC</span><span>${p.pac}</span></div><div class="stat-bar-bg"><div class="stat-bar-fill" style="width:${p.pac}%"></div></div></div><div><div class="flex justify-between"><span>SHO</span><span>${p.sho}</span></div><div class="stat-bar-bg"><div class="stat-bar-fill" style="width:${p.sho}%"></div></div></div></div>`; }
        initComparison();

        // --- CORE FUNCTIONS ---
        let currentSlot = null; let selectedPlayers = [];
        function openPicker(slotId) { currentSlot = slotId; const list = document.getElementById('picker-list'); list.innerHTML = teamData.map(p => { const isSelected = selectedPlayers.includes(p.id); const disabledClass = isSelected ? 'opacity-30 cursor-not-allowed' : ''; const clickAction = isSelected ? '' : `selectSquadPlayer(${p.id})`; return `<div class="pick-card ${disabledClass}" onclick="${clickAction}"><img src="${p.photo}" class="w-10 h-10 rounded-full mx-auto mb-2 object-cover"><p class="text-xs font-bold text-yellow-500">${p.nameEn}</p><p class="text-[9px] text-slate-400">${p.pos}</p></div>`; }).join(''); document.getElementById('squad-picker').style.display = 'block'; }
        function selectSquadPlayer(id) { const player = teamData.find(p => p.id === id); const slot = document.getElementById(`slot-${currentSlot}`); if (slot.dataset.playerId) { const oldId = parseInt(slot.dataset.playerId); selectedPlayers = selectedPlayers.filter(pid => pid !== oldId); } slot.innerHTML = `<img src="${player.photo}">`; slot.classList.add('filled'); slot.dataset.playerId = player.id; selectedPlayers.push(player.id); closePicker(); updateStats(); }
        function updateStats() { if (selectedPlayers.length > 0) { let total = 0; selectedPlayers.forEach(pid => { const p = teamData.find(x => x.id === pid); total += p.rating; }); document.getElementById('team-rating').innerText = Math.round(total / selectedPlayers.length); } else { document.getElementById('team-rating').innerText = 0; } if (selectedPlayers.length === 5) { if (!selectedPlayers.includes(3)) { document.getElementById('gasser-error').style.display = 'block'; } } }
        function closePicker() { document.getElementById('squad-picker').style.display = 'none'; }
        function resetSquad() { ['gk','def','lm','rm','st'].forEach(pos => { const slot = document.getElementById(`slot-${pos}`); slot.innerHTML = '<span class="text-3xl font-black text-yellow-500">+</span>'; slot.classList.remove('filled'); delete slot.dataset.playerId; }); selectedPlayers = []; updateStats(); }
        const targetConfig = { 'Ahmed Sherif': 'https://i.ibb.co/6jgPWNb/IMG-2882.jpg', 'Mahmoud Gamal': 'https://cdn-icons-png.flaticon.com/512/3135/3135715.png' };
        function renderPlayers() { const sortedTeam = [...teamData].sort((a, b) => b.rating - a.rating); document.getElementById('player-grid').innerHTML = teamData.map(p => { const rank = sortedTeam.findIndex(player => player.id === p.id) + 1; return `<div class="player-card shadow-2xl" onclick="openProfile(${p.id})"><div class="card-rating">${p.rating}</div><div class="img-frame"><img src="${p.photo}" class="player-img"></div><div class="p-6 text-center"><h3 class="text-2xl font-black italic mb-1 uppercase tracking-tighter"><span class="ar-text">${p.nameAr}</span><span class="en-text">${p.nameEn}</span></h3><p class="text-yellow-500 font-bold text-xs uppercase tracking-widest">${p.pos}</p></div></div>`; }).join(''); }
        function openProfile(id) { const p = teamData.find(player => player.id === id); const sortedTeam = [...teamData].sort((a, b) => b.rating - a.rating); const rank = sortedTeam.findIndex(player => player.id === id) + 1; let goatHtml = ''; if (id === 3) goatHtml = `<div class="goat-container"><span class="goat-crown">üëë</span><span class="text-yellow-500 font-black text-3xl goat-text">(GOAT)</span></div>`; document.getElementById('modal-body').innerHTML = `<div class="img-frame h-[250px]"><img src="${p.photo}" class="player-img"></div><div class="p-8">${goatHtml}<div class="flex justify-between items-center mb-1"><h2 class="text-3xl font-black italic text-yellow-500 uppercase tracking-tighter">${p.nameEn} <span class="text-slate-500 text-lg ml-2">(#${rank})</span></h2><span class="bg-yellow-500 text-slate-950 px-3 py-1 rounded-lg font-black text-xl">${p.rating}</span></div><p class="text-slate-500 font-bold mb-6 text-sm">"${p.desc}"</p><div class="grid grid-cols-3 gap-3"><div class="stat-box"><p class="stat-val">${p.pac}</p><p class="stat-lbl">PAC</p></div><div class="stat-box"><p class="stat-val">${p.sho}</p><p class="stat-lbl">SHO</p></div><div class="stat-box"><p class="stat-val">${p.pas}</p><p class="stat-lbl">PAS</p></div><div class="stat-box"><p class="stat-val">${p.dri}</p><p class="stat-lbl">DRI</p></div><div class="stat-box"><p class="stat-val">${p.def}</p><p class="stat-lbl">DEF</p></div><div class="stat-box"><p class="stat-val">${p.phy}</p><p class="stat-lbl">PHY</p></div></div></div>`; document.getElementById('profile-modal').style.display = 'block'; }
        let score = 0; let timeLeft = 30; let gameActive = false; let gameTimer;
        function startGame(key) { document.getElementById('start-screen').classList.add('hidden'); score = 0; timeLeft = 30; gameActive = true; document.getElementById('score').innerText = score; document.getElementById('game-zone').innerHTML = `<div id="target" class="target-circle" onclick="kickPlayer(event)"><img src="${targetConfig[key]}" class="w-full h-full object-cover"></div>`; moveTarget(); gameTimer = setInterval(() => { timeLeft--; document.getElementById('timer').innerText = timeLeft; if(timeLeft <= 0) endGame(); }, 1000); }
        function moveTarget() { if(!gameActive) return; const t = document.getElementById('target'); const z = document.getElementById('game-zone'); t.style.left = Math.random() * (z.clientWidth - 120) + 'px'; t.style.top = Math.random() * (z.clientHeight - 120) + 'px'; }
        function kickPlayer(e) { score++; document.getElementById('score').innerText = score; const fx = document.createElement('div'); fx.style.position = 'absolute'; fx.style.color = '#ef4444'; fx.style.fontWeight = '900'; fx.innerText = 'POW!'; fx.style.left = e.clientX - 20 + 'px'; fx.style.top = e.clientY - 20 + 'px'; document.body.appendChild(fx); setTimeout(() => fx.remove(), 400); moveTarget(); }
        function endGame() { clearInterval(gameTimer); gameActive = false; alert(`Total Kicks: ${score}`); document.getElementById('start-screen').classList.remove('hidden'); }
        function toggleAnthem() { const a = document.getElementById('bg-anthem'); if (a.paused) { a.play(); document.getElementById('music-icon').innerText = "‚è∏"; } else { a.pause(); document.getElementById('music-icon').innerText = "‚ñ∂"; } }
        function toggleLanguage() { document.body.classList.toggle('lang-en'); document.getElementById('main-html').setAttribute('dir', document.body.classList.contains('lang-en') ? 'ltr' : 'rtl'); }
        renderPlayers();
    </script>
</body>
</html>